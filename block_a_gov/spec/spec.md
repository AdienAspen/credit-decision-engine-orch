# Spec v0.1 — Block A (Agentic Platform)

## Purpose
Given a credit request, emit a decision (approve/review/reject) with traceability and versioned artifacts.

## Inputs (contracts)
- Request Core (identity + minimal static/backbone payload)
- EFV v0.1 (from DS_Z: static + dyn sensor scores + source/latency maps)
- Application Intake v0.1 (`application_intake_v0_1`) from WORK-FLOW
- Eligibility Agent status v0.1 (`eligibility_agent_status_v0_1`) from ELIGIBILITY
- Eligibility dynamic sensors v0.1 (`eligibility_dynamic_sensors_v0_1`) for LIVE/STUB behavior (`wE`, `wF`)
- ORIGINATE post-eligibility entry contract (`originate_post_eligibility_input_v0_1`)
- ORIGINATE dynamic fraud signals v0.1 (`originate_dynamic_fraud_signals_v0_1`) for `wB` + `wC`
- Sub-agent outputs (T2/T3/T4): score_* + thr_* + decision_* + meta_*
- BRMS flags (from Block B bridge)
- (Optional) Policies corpus for Reporter (RAG)

## Outputs
### Decision Pack v0.1 (structured)
Must include:
- meta_request_id, meta_generated_at
- workflow_intake (`application_intake_v0_1`)
- efv_payload (efv_0.1)
- eligibility_result (`eligibility_agent_status_v0_1`)
- risk_results (T2/T3/T4 outputs)
- brms_flags (rule_hits, flags)
- final_decision (approve/review/reject)
- reason_codes (structured, no free text)

### Report v0.1 (human-facing)
Generated by REPORTER from Decision Pack + policies (RAG). Reporter must NOT change the decision.

## Non-functional “Done”
- Determinism by request_id/seed when applicable
- Observability: logs + trace id + latency per step
- Missing-data handling: sensors may be null; system must degrade safely
- Versioning: v0.1 → v0.2 adds fields only (no breaking renames)

## Guardrails
- ORIGINATE never invents data; only uses declared inputs
- If conflicts/low confidence: escalate to REVIEW

## System wiring v0.1 (pre-gate + ORIGINATE)

### Pre-gate lane
- **WORK-FLOW:** emits `application_intake_v0_1`.
- **ELIGIBILITY AGENT:** consumes intake + eligibility DS (`wE`, `wF`) and emits `eligibility_agent_status_v0_1`.
- **Early-cut rule:**
  - `REJECTED` -> produce `final_decision_v0_1` with `REJECT`, skip ORIGINATE.
  - `REVIEW_REQUIRED` -> produce `final_decision_v0_1` with `REVIEW`, skip ORIGINATE (MVP path).
  - `APPROVED` -> continue to ORIGINATE.

### Inputs to ORIGINATE (only after APPROVED)
- **Decision Pack:** `decision_pack_v0_1` assembled from T2/T3/T4 runner outputs (canonical aliases).
- **Sensor Pack:** dynamic sensor signals for ORIGINATE lane (outside eligibility DS pair).
- **BRMS flags:** business-rule signals (gates/warnings/overrides) fetched from Block B via API/MCP.

### Output from ORIGINATE
- **Final Decision bundle:** deterministic result + trace fields (request_id, sources, latencies).
- **REPORTER payload:** a structured input for REPORTER to generate narratives, reason codes, and audit-ready explanations.

### Directionality rule (important)
- ORIGINATE **consumes** BRMS signals from Block B.
- Block B is **not** a consumer of Block A ML scores in this PoC; it provides rule-based flags to ORIGINATE.
- ELIGIBILITY AGENT is independent from BRMS Gate_1 naming/logic in this MVP.
